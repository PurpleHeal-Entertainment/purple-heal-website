<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta name="description" content="Descubre a todos los artistas de Purple Heal Entertainment">
    <title>Artistas | Purple Heal Entertainment</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/reset.css?v=1.9">
    <link rel="stylesheet" href="css/variables.css?v=1.9">
    <link rel="stylesheet" href="css/global.css?v=1.9">
    <link rel="stylesheet" href="css/components.css?v=1.9">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/logos/PURPLE HEAL LOGO PURPURA.svg">
</head>

<body>
    <!-- Navigation -->
    <nav class="ph-nav" id="navbar">
        <div class="container ph-nav__container">
            <a href="index.html">
                <img src="assets/logos/PURPLE HEAL LOGO TEXTO BLANCO OPCION 2.svg" alt="Purple Heal Logo"
                    class="ph-nav__logo">
            </a>

            <div class="ph-nav__menu">
                <a href="index.html" class="ph-nav__link">Inicio</a>
                <a href="artists.html" class="ph-nav__link active">Artistas</a>
                <a href="tours.html" class="ph-nav__link">Tours</a>
                <a href="shop.html" class="ph-nav__link" id="nav-shop" style="display: none;">Tienda</a>
                <a href="about.html" class="ph-nav__link">Nosotros</a>
            </div>

            <div class="ph-nav__toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="ph-mobile-menu">
        <div class="ph-mobile-menu__content">
            <a href="index.html" class="ph-mobile-menu__link">Inicio</a>
            <a href="artists.html" class="ph-mobile-menu__link active">Artistas</a>
            <a href="tours.html" class="ph-mobile-menu__link">Tours</a>
            <a href="tours.html" class="ph-mobile-menu__link">Tours</a>
            <a href="shop.html" class="ph-mobile-menu__link" id="nav-shop-mobile" style="display: none;">Tienda</a>
            <a href="about.html" class="ph-mobile-menu__link">Nosotros</a>
        </div>
    </div>

    <!-- Artists Page Main Section -->
    <section class="hero fade-in" style="padding-top: 100px; padding-bottom: var(--space-3xl); min-height: 60vh;">
        <div class="container">
            <!-- Header Text -->
            <div class="text-center fade-in" style="margin-bottom: var(--space-xl);">
                <h1 class="hero__title">
                    NUESTROS <span class="text-gradient">ARTISTAS</span>
                </h1>
                <p class="hero__subtitle" style="max-width: 700px; margin: 0 auto; margin-bottom: 0;">
                    Conoce a los talentosos creadores que est√°n revolucionando la escena musical.
                    Cada uno con su estilo √∫nico y su pasi√≥n incomparable.
                </p>
            </div>

            <!-- Artists Grid -->
            <div class="grid grid--3 artists-grid scale-in" id="artistsGrid">
                <!-- Artists will be loaded dynamically from IndexedDB -->
            </div>
        </div>
    </section>

    <!-- Call to Action target -->
    <section id="join-section" style="background: rgba(0, 0, 0, 0.3);">
        <div class="container text-center">
            <h2>BUSCAMOS NUEVOS TALENTOS</h2>
            <p
                style="font-size: var(--fs-lg); color: var(--ph-gray-lighter); max-width: 800px; margin: 0 auto var(--space-2xl);">
                Purple Heal Entertainment busca nuevos talentos en fechas espec√≠ficas. Fuera de temporada, puedes enviar
                tu demo a nuestro correo como m√©todo alternativo; ten en cuenta que la revisi√≥n no est√° garantizada y
                depender√° de nuestra disponibilidad (¬°o de tu suerte!).
            </p>
            <a href="mailto:purplehealent@gmail.com" class="ph-button ph-button--gold">Envia tu Demo</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="ph-footer">
        <div class="container">
            <div class="ph-footer__content">
                <div class="ph-footer__section">
                    <h3>Purple Heal Entertainment</h3>
                    <p style="color: var(--ph-gray-light); margin-top: var(--space-sm);">
                        Creando el futuro de la m√∫sica, un artista a la vez.
                    </p>
                </div>

                <div class="ph-footer__section">
                    <h3>Enlaces Rapidos</h3>
                    <div class="ph-footer__links">
                        <a href="index.html" class="ph-footer__link">Home</a>
                        <a href="artists.html" class="ph-footer__link">Artistas</a>
                        <a href="index.html#about" class="ph-footer__link">Nosotros</a>
                        <a href="index.html#contact" class="ph-footer__link">Contacto</a>
                    </div>
                </div>

                <div class="ph-footer__section">
                    <h3>Siguenos</h3>
                    <div class="ph-footer__links">
                        <a href="https://www.instagram.com/purpleheal_ent/" class="ph-footer__link"
                            target="_blank">Instagram</a>
                        <a href="https://www.x.com/PURPLEHEAL" class="ph-footer__link" target="_blank">Twitter</a>
                        <a href="https://www.youtube.com/@purplehealent" class="ph-footer__link"
                            target="_blank">YouTube</a>
                    </div>
                </div>
            </div>

            <div class="ph-footer__bottom">
                <p>&copy; 2026 Purple Heal Entertainment. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/storage-db.js?v=2.1"></script>
    <script src="js/main.js?v=2.1"></script>
    <script>
        // Load artists from IndexedDB
        async function loadArtists() {
            const artists = await loadArtistsDB();
            const grid = document.getElementById('artistsGrid');

            if (!grid) return;

            if (artists && artists.length > 0) {
                // Remove hardcoded inline styles to allow CSS Media Queries to work
                console.log('üé® Artist grid loading...');
                grid.classList.add('artists-grid--loaded');

                grid.innerHTML = artists.map((artist, index) => `
                    <a href="artist-profile.html?artist=${index}" class="artist-card">
                        <img src="${artist.image || 'assets/images/placeholder.png'}" alt="${artist.name}"
                            class="artist-card__image">
                        <div class="artist-card__overlay">
                            <p class="artist-card__genre">${artist.genre || 'Artista'}</p>
                            <h3 class="artist-card__name">${artist.name}</h3>
                            <p class="artist-card__bio">
                                ${artist.bio ? (artist.bio.substring(0, 150) + (artist.bio.length > 150 ? '...' : '')) : 'Descubre m√°s sobre este artista'}
                            </p>
                        </div>
                    </a>
                `).join('');
            } else {
                grid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: var(--space-3xl);">
                        <h3 style="color: var(--ph-gray-lighter); margin-bottom: var(--space-lg);">No hay artistas disponibles</h3>
                        <p style="color: var(--ph-gray-lighter);">Los artistas aparecer√°n aqu√≠ cuando se agreguen desde el panel de administraci√≥n.</p>
                    </div>
                `;
            }
        }

        // Load on page load
        document.addEventListener('DOMContentLoaded', async () => {
            await loadArtists();

            // Check Join Section Visibility
            try {
                await initDB();
                const config = await getSiteConfig();
                const joinSection = document.getElementById('join-section');

                if (joinSection) {
                    // Default to true if undefined (legacy compatibility)
                    const shouldShow = config.showJoinSection !== false;
                    joinSection.style.display = shouldShow ? 'block' : 'none';
                }
            } catch (e) {
                console.warn('Config load error:', e);
            }
        });
    </script>
</body>

</html>